<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg:#f7fafc;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#2563eb;
      --danger:#ef4444;
      --success:#10b981;
      --shadow: 0 6px 18px rgba(15,23,42,0.08);
      --radius:10px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    body{
      margin:0;
      padding:14px;
      width:380px;
      background:var(--bg);
      color:#0f172a;
      box-sizing:border-box;
    }
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    h2{font-size:16px;margin:0}
    .meta-small{font-size:12px;color:var(--muted)}
    .card{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:10px;
      margin-bottom:10px;
    }
    #backupsList{max-height:220px;overflow:auto;padding:6px 2px}
    .backup{
      display:flex;align-items:center;justify-content:space-between;padding:8px;border-radius:8px;
      transition:background .12s;
    }
    .backup:hover{background:#f1f5f9}
    .backup-left{display:flex;flex-direction:column}
    .domain{font-weight:600;font-size:13px}
    .date{font-size:12px;color:var(--muted)}
    .actions button{margin-left:6px;padding:6px 8px;border-radius:6px;border:0;background:#eef2ff;color:var(--accent);cursor:pointer}
    .actions button.danger{background:#fff1f2;color:var(--danger)}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    .controls button{flex:1;padding:8px;border-radius:8px;border:0;background:var(--accent);color:#fff;cursor:pointer}
    .controls button.secondary{background:#e6eefc;color:var(--accent)}
    .small{font-size:12px;padding:6px 8px;border-radius:8px;border:0;background:#fff;color:var(--muted);cursor:pointer}
    .row{display:flex;gap:8px;align-items:center}
    #search{flex:1;padding:8px;border-radius:8px;border:1px solid #e6eefc;background:#fff}
    footer{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
    .toast{
      position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:#111827;color:#fff;padding:8px 12px;border-radius:8px;z-index:9999;box-shadow:var(--shadow)
    }
    input[type="file"]{display:none}
  </style>
</head>
<body>
  <header>
    <div>
      <h2>Anime‑sama — Sauvegardes</h2>
      <div class="meta-small" id="backupCount">Chargement…</div>
    </div>
    <div class="meta-small">v1.0.0</div>
  </header>

  <div class="card">
    <div class="row" style="margin-bottom:8px">
      <input id="search" placeholder="Rechercher domaine ou date (ex: anime-sama.eu)" />
      <button id="clearSearch" class="small">Effacer</button>
    </div>

    <div id="backupsList">Chargement…</div>

    <div style="margin-top:8px" class="controls">
      <button id="manualSave">Sauvegarder maintenant</button>
      <button id="manualRestore" class="secondary">Restaurer dernière</button>
    </div>
  </div>

  <div class="card">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
      <div>
        <div class="meta-small">Sauvegarde automatique</div>
        <div class="meta-small">Intervalle</div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <select id="interval" style="padding:8px;border-radius:8px;border:1px solid #e6eefc;background:#fff">
          <option value="15">15 min</option>
          <option value="30">30 min</option>
          <option value="60">1 heure</option>
        </select>
        <button id="saveInterval" class="small">Enregistrer</button>
      </div>
    </div>

    <div style="display:flex;gap:8px;justify-content:space-between;align-items:center">
      <div class="meta-small">Export / Import</div>
      <div style="display:flex;gap:8px">
        <button id="exportBtn" class="small">Exporter</button>
        <label for="importFile" class="small" style="cursor:pointer">Importer</label>
        <input id="importFile" type="file" accept="application/json" />
      </div>
    </div>
  </div>

  <footer>
    <div class="meta-small">© Enzo</div>
    <div style="display:flex;gap:8px">
      <button id="clearAll" class="small">Tout supprimer</button>
      <button id="openRepo" class="small">Ouvrir GitHub</button>
    </div>
  </footer>

  <div id="popupToast" style="display:none" class="toast"></div>

  <script src="popup.js"></script>
</body>
</html>
